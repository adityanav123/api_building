
# Book Management Backend

## Overview

This Book Management Backend is designed to manage a collection of books, allowing users to perform CRUD operations on books through a RESTful API. Built with Rust, this backend leverages the power of Diesel for ORM, Rocket for web framework, and Serde for serialization and deserialization, ensuring a robust and high-performance application.

## Dependencies

- Rust 2021 Edition
- Diesel 2.1.4 with PostgreSQL and R2D2 features
- Dotenv 0.15.0
- R2D2 0.8.10
- Serde 1.0.197, Serde_derive 1.0.197, Serde_json 1.0.114
- Rocket 0.5.0

## Setup Instructions

1. Ensure Rust is installed on your system. If not, install it via [rustup](https://rustup.rs/).
2. Clone the repository to your local machine.
3. Create a `.env` file in the root directory and specify your `DATABASE_URL`, for example, `DATABASE_URL=postgres://username:password@localhost/book_management`.
4. Run `cargo build` to compile the project.
5. Execute `cargo run` to start the server.

## API Endpoints

### Books

- **GET `/api/v1/books`**: Fetch all books.
  - **Response**: `{"status": 200, "result": [book array]}`
- **POST `/api/v1/books`**: Add a new book.
  - **Payload**: `{"title": "string", "author": "string", "published": bool}`
  - **Response**: `{"status": bool, "result": book or null}`
- **GET `/api/v1/books/<id>`**: Get a book by ID.
  - **Response**: `{"status": 200/404, "result": book or null}`
- **PUT `/api/v1/books/<id>`**: Update a book by ID.
  - **Payload**: `{"title": "string", "author": "string", "published": bool}`
  - **Response**: `{"status": 200/404, "result": null}`
- **DELETE `/api/v1/books/<id>`**: Delete a book by ID.
  - **Response**: `{"status": 200/404, "result": null}`
- **GET `/api/v1/book/author/<author_name>`**: Get books by author.
  - **Response**: `{"status": 200, "result": [book array]}`

### Static Files

- **GET `/`**: Serve the index.html from the public directory.
- **GET `/<file..>`**: Serve static files from the public directory.

## Error Handling

- **404 Not Found**: Returns when the requested resource is not found.
  - **Response**: `{"status": "error", "reason": "Resource was not found!"}`

## Additional Information

- The backend uses PostgreSQL as the database. Ensure you have PostgreSQL installed and properly configured.
- The `db.rs` file contains logic for database connection pooling using R2D2.
- The `models.rs` file defines the `Book` and `NewBook` structs used for database operations.
- The `routes.rs` file defines the API routes and their handlers.
- The `schema.rs` file is automatically generated by Diesel and contains the schema for the `books` table.

For more detailed information on each API endpoint and its functionality, please refer to the source code comments in the `routes.rs` file.
